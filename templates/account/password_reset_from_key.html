{% extends "base.html" %}
{% load i18n %}

{% block content %}
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-12 col-md-7 col-lg-5">

      <div class="p-4 p-md-5 bg-white border rounded-4 shadow-sm">
        <h1 class="h3 mb-2">{% trans "Set a New Password" %}</h1>

        {% if token_fail %}
          <p class="text-danger mb-4">
            {% trans "This password reset link is invalid or has expired. Please request a new one." %}
          </p>

          <a class="btn btn-primary w-100" href="{% url 'account_reset_password' %}">
            {% trans "Request a New Link" %}
          </a>
        {% else %}
          <p class="text-muted mb-4">
            {% trans "Enter your new password below." %}
          </p>

          <form method="post" action="">
            {% csrf_token %}
            {{ form.as_p }}

            <button type="submit" class="btn btn-primary w-100 mt-2">
              {% trans "Change Password" %}
            </button>
          </form>
        {% endif %}

      </div>

    </div>
  </div>
</div>
{% endblock %}
